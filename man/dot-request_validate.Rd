% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/request.R
\name{.request_validate}
\alias{.request_validate}
\title{Validate a generated request (remove weekends, holidays, existing files)}
\usage{
.request_validate(request_query, account_archive = NULL)
}
\arguments{
\item{request_query}{data.frame A tibble produced by \code{\link[=request_query]{request_query()}}
containing columns: symbol, start_date, end_date, level.}

\item{account_archive}{data.frame or tibble, optional When provided, rows
present in the archive (matching all columns of \code{request_query}) are
excluded from the validation result.}
}
\value{
A filtered tibble containing only valid trading days that are not
weekends, NYSE holidays, or already present in \code{account_archive}.
}
\description{
Internal helper used by \code{\link[=request_query]{request_query()}}. Removes weekend days (Saturday
and Sunday) and NYSE holidays for the years present in \code{request_query}.
When \code{account_archive} is supplied, rows that are already available in the
archive are removed using a row-wise anti-join.
}
\keyword{internal}
